/*! grafana - v1.8.1 - 2014-09-30
 * Copyright (c) 2014 Torkel Ödegaard; Licensed Apache License */

define(["kbn"],function(a){describe("millisecond formating",function(){it("should translate 4378634603 as 1.67 years",function(){var b=a.msFormat(4378634603,2);expect(b).to.be("50.68 day")}),it("should translate 3654454 as 1.02 hour",function(){var b=a.msFormat(3654454,2);expect(b).to.be("1.02 hour")}),it("should not downscale when value is zero",function(){var b=a.msFormat(0,2);expect(b).to.be("0.00 ms")}),it("should translate 365445 as 6.09 min",function(){var b=a.msFormat(365445,2);expect(b).to.be("6.09 min")})}),describe("high negative exponent, issue #696",function(){it("should ignore decimal correction if exponent",function(){var b=a.getFormatFunction("")(2.75e-10,{tickDecimals:12});expect(b).to.be("2.75e-10")}),it("should format 0 correctly",function(){var b=a.getFormatFunction("")(0,{tickDecimals:12});expect(b).to.be("0")})}),describe("none format tests",function(){it("should translate 2 as 2.0000 if axis decimals is 4",function(){var b=a.getFormatFunction("")(2,{tickDecimals:4});expect(b).to.be("2.0000")})}),describe("nanosecond formatting",function(){it("should translate 25 to 25 ns",function(){var b=a.nanosFormat(25,2);expect(b).to.be("25 ns")}),it("should translate 2558 to 2.56 µs",function(){var b=a.nanosFormat(2558,2);expect(b).to.be("2.56 µs")}),it("should translate 2558000 to 2.56 ms",function(){var b=a.nanosFormat(2558e3,2);expect(b).to.be("2.56 ms")}),it("should translate 2019962000 to 2.02 s",function(){var b=a.nanosFormat(2049962e3,2);expect(b).to.be("2.05 s")}),it("should translate 95199620000 to 1.59 m",function(){var b=a.nanosFormat(9519962e4,2);expect(b).to.be("1.59 m")})}),describe("calculateInterval",function(){it("1h 100 resultion",function(){var b={from:a.parseDate("now-1h"),to:a.parseDate("now")},c=a.calculateInterval(b,100,null);expect(c).to.be("30s")}),it("10m 1600 resolution",function(){var b={from:a.parseDate("now-10m"),to:a.parseDate("now")},c=a.calculateInterval(b,1600,null);expect(c).to.be("0.1s")}),it("fixed user interval",function(){var b={from:a.parseDate("now-10m"),to:a.parseDate("now")},c=a.calculateInterval(b,1600,"10s");expect(c).to.be("10s")}),it("short time range and user low limit",function(){var b={from:a.parseDate("now-10m"),to:a.parseDate("now")},c=a.calculateInterval(b,1600,">10s");expect(c).to.be("10s")}),it("large time range and user low limit",function(){var b={from:a.parseDate("now-14d"),to:a.parseDate("now")},c=a.calculateInterval(b,1e3,">10s");expect(c).to.be("30m")})})});